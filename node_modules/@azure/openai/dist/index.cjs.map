{"version":3,"file":"index.cjs","sources":["../src/logger.ts","../src/rest/openAIClient.ts","../src/rest/isUnexpected.ts","../src/api/OpenAIContext.ts","../src/api/util.ts","../src/utils/serializeUtil.ts","../src/api/getSSEs.ts","../src/api/readableStreamUtils.ts","../src/api/oaiSse.ts","../src/api/operations.ts","../src/api/policies/nonAzure.ts","../src/OpenAIClient.ts","../src/OpenAIKeyCredential.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { createClientLogger } from \"@azure/logger\";\nexport const logger = createClientLogger(\"openai\");\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { getClient, ClientOptions } from \"@azure-rest/core-client\";\nimport { logger } from \"../logger.js\";\nimport { TokenCredential, KeyCredential } from \"@azure/core-auth\";\nimport { OpenAIContext } from \"./clientDefinitions.js\";\n\n/**\n * Initialize a new instance of `OpenAIContext`\n * @param endpoint - Supported Cognitive Services endpoints (protocol and hostname, for example:\n * https://westus.api.cognitive.microsoft.com).\n * @param credentials - uniquely identify client credential\n * @param options - the parameter for all optional parameters\n */\nexport default function createClient(\n  endpoint: string,\n  credentials: TokenCredential | KeyCredential,\n  options: ClientOptions = {},\n): OpenAIContext {\n  const baseUrl = options.baseUrl ?? `${endpoint}/openai`;\n  options.apiVersion = options.apiVersion ?? \"2024-03-01-preview\";\n  const userAgentInfo = `azsdk-js-openai-rest/1.0.0-beta.12`;\n  const userAgentPrefix =\n    options.userAgentOptions && options.userAgentOptions.userAgentPrefix\n      ? `${options.userAgentOptions.userAgentPrefix} ${userAgentInfo}`\n      : `${userAgentInfo}`;\n  options = {\n    ...options,\n    userAgentOptions: {\n      userAgentPrefix,\n    },\n    loggingOptions: {\n      logger: options.loggingOptions?.logger ?? logger.info,\n    },\n    credentials: {\n      scopes: options.credentials?.scopes ?? [\"https://cognitiveservices.azure.com/.default\"],\n      apiKeyHeaderName: options.credentials?.apiKeyHeaderName ?? \"api-key\",\n    },\n  };\n\n  const client = getClient(baseUrl, credentials, options) as OpenAIContext;\n\n  return client;\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport {\n  GetAudioTranscriptionAsPlainText200Response,\n  GetAudioTranscriptionAsResponseObject200Response,\n  GetAudioTranscriptionAsPlainTextDefaultResponse,\n  GetAudioTranslationAsPlainText200Response,\n  GetAudioTranslationAsResponseObject200Response,\n  GetAudioTranslationAsPlainTextDefaultResponse,\n  GetCompletions200Response,\n  GetCompletionsDefaultResponse,\n  GetChatCompletions200Response,\n  GetChatCompletionsDefaultResponse,\n  GetImageGenerations200Response,\n  GetImageGenerationsDefaultResponse,\n  GetEmbeddings200Response,\n  GetEmbeddingsDefaultResponse,\n} from \"./responses.js\";\n\nconst responseMap: Record<string, string[]> = {\n  \"POST /deployments/{deploymentId}/audio/transcriptions\": [\"200\"],\n  \"POST /deployments/{deploymentId}/audio/translations\": [\"200\"],\n  \"POST /deployments/{deploymentId}/completions\": [\"200\"],\n  \"POST /deployments/{deploymentId}/chat/completions\": [\"200\"],\n  \"POST /deployments/{deploymentId}/images/generations\": [\"200\"],\n  \"POST /deployments/{deploymentId}/embeddings\": [\"200\"],\n  \"GET /operations/images/{operationId}\": [\"200\"],\n  \"POST /images/generations:submit\": [\"202\"],\n  \"GET /images/generations:submit\": [\"200\", \"202\"],\n};\n\nexport function isUnexpected(\n  response:\n    | GetAudioTranscriptionAsPlainText200Response\n    | GetAudioTranscriptionAsResponseObject200Response\n    | GetAudioTranscriptionAsPlainTextDefaultResponse,\n): response is GetAudioTranscriptionAsPlainTextDefaultResponse;\nexport function isUnexpected(\n  response:\n    | GetAudioTranslationAsPlainText200Response\n    | GetAudioTranslationAsResponseObject200Response\n    | GetAudioTranslationAsPlainTextDefaultResponse,\n): response is GetAudioTranslationAsPlainTextDefaultResponse;\nexport function isUnexpected(\n  response: GetCompletions200Response | GetCompletionsDefaultResponse,\n): response is GetCompletionsDefaultResponse;\nexport function isUnexpected(\n  response: GetChatCompletions200Response | GetChatCompletionsDefaultResponse,\n): response is GetChatCompletionsDefaultResponse;\nexport function isUnexpected(\n  response: GetImageGenerations200Response | GetImageGenerationsDefaultResponse,\n): response is GetImageGenerationsDefaultResponse;\nexport function isUnexpected(\n  response: GetEmbeddings200Response | GetEmbeddingsDefaultResponse,\n): response is GetEmbeddingsDefaultResponse;\nexport function isUnexpected(\n  response:\n    | GetAudioTranscriptionAsPlainText200Response\n    | GetAudioTranscriptionAsResponseObject200Response\n    | GetAudioTranscriptionAsPlainTextDefaultResponse\n    | GetAudioTranslationAsPlainText200Response\n    | GetAudioTranslationAsResponseObject200Response\n    | GetAudioTranslationAsPlainTextDefaultResponse\n    | GetCompletions200Response\n    | GetCompletionsDefaultResponse\n    | GetChatCompletions200Response\n    | GetChatCompletionsDefaultResponse\n    | GetImageGenerations200Response\n    | GetImageGenerationsDefaultResponse\n    | GetEmbeddings200Response\n    | GetEmbeddingsDefaultResponse,\n): response is\n  | GetAudioTranscriptionAsPlainTextDefaultResponse\n  | GetAudioTranslationAsPlainTextDefaultResponse\n  | GetCompletionsDefaultResponse\n  | GetChatCompletionsDefaultResponse\n  | GetImageGenerationsDefaultResponse\n  | GetEmbeddingsDefaultResponse {\n  const lroOriginal = response.headers[\"x-ms-original-url\"];\n  const url = new URL(lroOriginal ?? response.request.url);\n  const method = response.request.method;\n  let pathDetails = responseMap[`${method} ${url.pathname}`];\n  if (!pathDetails) {\n    pathDetails = getParametrizedPathSuccess(method, url.pathname);\n  }\n  return !pathDetails.includes(response.status);\n}\n\nfunction getParametrizedPathSuccess(method: string, path: string): string[] {\n  const pathParts = path.split(\"/\");\n\n  // Traverse list to match the longest candidate\n  // matchedLen: the length of candidate path\n  // matchedValue: the matched status code array\n  let matchedLen = -1,\n    matchedValue: string[] = [];\n\n  // Iterate the responseMap to find a match\n  for (const [key, value] of Object.entries(responseMap)) {\n    // Extracting the path from the map key which is in format\n    // GET /path/foo\n    if (!key.startsWith(method)) {\n      continue;\n    }\n    const candidatePath = getPathFromMapKey(key);\n    // Get each part of the url path\n    const candidateParts = candidatePath.split(\"/\");\n\n    // track if we have found a match to return the values found.\n    let found = true;\n    for (let i = candidateParts.length - 1, j = pathParts.length - 1; i >= 1 && j >= 1; i--, j--) {\n      if (candidateParts[i]?.startsWith(\"{\") && candidateParts[i]?.indexOf(\"}\") !== -1) {\n        const start = candidateParts[i]!.indexOf(\"}\") + 1,\n          end = candidateParts[i]?.length;\n        // If the current part of the candidate is a \"template\" part\n        // Try to use the suffix of pattern to match the path\n        // {guid} ==> $\n        // {guid}:export ==> :export$\n        const isMatched = new RegExp(`${candidateParts[i]?.slice(start, end)}`).test(\n          pathParts[j] || \"\",\n        );\n\n        if (!isMatched) {\n          found = false;\n          break;\n        }\n        continue;\n      }\n\n      // If the candidate part is not a template and\n      // the parts don't match mark the candidate as not found\n      // to move on with the next candidate path.\n      if (candidateParts[i] !== pathParts[j]) {\n        found = false;\n        break;\n      }\n    }\n\n    // We finished evaluating the current candidate parts\n    // Update the matched value if and only if we found the longer pattern\n    if (found && candidatePath.length > matchedLen) {\n      matchedLen = candidatePath.length;\n      matchedValue = value;\n    }\n  }\n\n  return matchedValue;\n}\n\nfunction getPathFromMapKey(mapKey: string): string {\n  const pathStart = mapKey.indexOf(\"/\");\n  return mapKey.slice(pathStart);\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { TokenCredential, KeyCredential } from \"@azure/core-auth\";\nimport { ClientOptions } from \"@azure-rest/core-client\";\nimport { OpenAIContext } from \"../rest/index.js\";\nimport getClient from \"../rest/index.js\";\n\nexport interface OpenAIClientOptions extends ClientOptions {}\n\nexport { OpenAIContext } from \"../rest/index.js\";\n\nexport function createOpenAI(\n  endpoint: string,\n  credential: KeyCredential | TokenCredential,\n  options: OpenAIClientOptions = {},\n): OpenAIContext {\n  const clientContext = getClient(endpoint, credential, options);\n  return clientContext;\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\ntype CamelCase<S extends string> = S extends `${infer P1}_${infer P2}`\n  ? `${Lowercase<P1>}${Capitalize<CamelCase<P2>>}`\n  : Lowercase<S>;\ntype SnakeCase<S extends string> = S extends `${infer T}${infer U}`\n  ? `${T extends Capitalize<T> ? \"_\" : \"\"}${Lowercase<T>}${SnakeCase<U>}`\n  : S;\n\ntype MapCamelCaseKeysOverCollections<T> =\n  T extends Array<infer X> ? Array<MapCamelCaseKeysOverCollections<X>> : CamelCaseKeys<T>;\ntype MapSnakeCaseKeysOverCollections<T> =\n  T extends Array<infer X>\n    ? Array<MapSnakeCaseKeysOverCollections<X>>\n    : // : T extends (infer X | infer Y)\n      // ? MapSnakeCaseKeysOverCollections<X> | MapSnakeCaseKeysOverCollections<Y>\n      SnakeCaseKeys<T>;\ntype CamelCaseKeys<T> = {\n  [K in keyof T as CamelCase<K & string>]: MapCamelCaseKeysOverCollections<T[K]>;\n};\nexport type SnakeCaseKeys<T> = {\n  [K in keyof T as SnakeCase<K & string>]: MapSnakeCaseKeysOverCollections<T[K]>;\n};\n\nexport function wrapError<T>(f: () => T, message: string): T {\n  try {\n    const result = f();\n    return result;\n  } catch (cause) {\n    throw new Error(`${message}: ${cause}`, { cause });\n  }\n}\n\nexport function camelCaseKeys<O extends Record<string, any>>(obj: O): CamelCaseKeys<O> {\n  if (typeof obj !== \"object\" || !obj) return obj;\n  if (Array.isArray(obj)) {\n    return obj.map((v) =>\n      camelCaseKeys<O extends Array<infer X> ? (X extends Record<string, any> ? X : never) : never>(\n        v,\n      ),\n    ) as CamelCaseKeys<O>;\n  } else {\n    for (const key of Object.keys(obj)) {\n      const value = obj[key];\n      const newKey = tocamelCase(key);\n      if (newKey !== key) {\n        delete obj[key];\n      }\n      (obj[newKey] as Record<string, any>) =\n        typeof obj[newKey] === \"object\" ? camelCaseKeys(value) : value;\n    }\n    return obj;\n  }\n}\n\nexport function snakeCaseKeys<O extends Record<string, any>>(obj: O): SnakeCaseKeys<O> {\n  if (typeof obj !== \"object\" || !obj) return obj;\n  if (Array.isArray(obj)) {\n    return obj.map((v) =>\n      snakeCaseKeys<O extends Array<infer X> ? (X extends Record<string, any> ? X : never) : never>(\n        v,\n      ),\n    ) as SnakeCaseKeys<O>;\n  } else {\n    for (const key of Object.keys(obj)) {\n      const value = obj[key];\n      const newKey = toSnakeCase(key);\n      if (newKey !== key) {\n        delete obj[key];\n      }\n      (obj[newKey] as Record<string, any>) =\n        typeof obj[newKey] === \"object\" ? snakeCaseKeys(value) : value;\n    }\n    return obj;\n  }\n}\n\nfunction tocamelCase<P extends string>(str: P): CamelCase<P> {\n  return str\n    .toLowerCase()\n    .replace(/([_][a-z])/g, (group) => group.toUpperCase().replace(\"_\", \"\")) as CamelCase<P>;\n}\n\nfunction toSnakeCase<P extends string>(str: P): SnakeCase<P> {\n  return str\n    .replace(/([A-Z])/g, (group) => `_${group.toLowerCase()}`)\n    .replace(/^_/, \"\") as SnakeCase<P>;\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport {\n  ChatRequestUserMessage as ChatRequestUserMessageRest,\n  ChatRequestAssistantMessage as ChatRequestAssistantMessageRest,\n  ChatRequestToolMessage as ChatRequestToolMessageRest,\n  ChatRequestMessage as ChatRequestMessageRest,\n  ChatMessageImageContentItem as ChatMessageImageContentItemRest,\n  ChatMessageContentItem as ChatMessageContentItemRest,\n  AzureSearchChatExtensionConfiguration as AzureSearchChatExtensionConfigurationRest,\n  AzureMachineLearningIndexChatExtensionConfiguration as AzureMachineLearningIndexChatExtensionConfigurationRest,\n  AzureCosmosDBChatExtensionConfiguration as AzureCosmosDBChatExtensionConfigurationRest,\n  ElasticsearchChatExtensionConfiguration as ElasticsearchChatExtensionConfigurationRest,\n  PineconeChatExtensionConfiguration as PineconeChatExtensionConfigurationRest,\n  AzureChatExtensionConfiguration as AzureChatExtensionConfigurationRest,\n  OnYourDataConnectionStringAuthenticationOptions as OnYourDataConnectionStringAuthenticationOptionsRest,\n  OnYourDataKeyAndKeyIdAuthenticationOptions as OnYourDataKeyAndKeyIdAuthenticationOptionsRest,\n  OnYourDataEncodedApiKeyAuthenticationOptions as OnYourDataEncodedApiKeyAuthenticationOptionsRest,\n  OnYourDataAccessTokenAuthenticationOptions as OnYourDataAccessTokenAuthenticationOptionsRest,\n  OnYourDataUserAssignedManagedIdentityAuthenticationOptions as OnYourDataUserAssignedManagedIdentityAuthenticationOptionsRest,\n  OnYourDataAuthenticationOptions as OnYourDataAuthenticationOptionsRest,\n  OnYourDataEndpointVectorizationSource as OnYourDataEndpointVectorizationSourceRest,\n  OnYourDataDeploymentNameVectorizationSource as OnYourDataDeploymentNameVectorizationSourceRest,\n  OnYourDataModelIdVectorizationSource as OnYourDataModelIdVectorizationSourceRest,\n  OnYourDataVectorizationSource as OnYourDataVectorizationSourceRest,\n} from \"../rest/index.js\";\nimport {\n  ChatRequestUserMessage,\n  ChatRequestAssistantMessage,\n  ChatRequestToolMessage,\n  ChatRequestMessageUnion,\n  ChatMessageImageContentItem,\n  ChatMessageContentItemUnion,\n  AzureSearchChatExtensionConfiguration,\n  AzureMachineLearningIndexChatExtensionConfiguration,\n  AzureCosmosDBChatExtensionConfiguration,\n  ElasticsearchChatExtensionConfiguration,\n  PineconeChatExtensionConfiguration,\n  AzureChatExtensionConfigurationUnion,\n  OnYourDataConnectionStringAuthenticationOptions,\n  OnYourDataKeyAndKeyIdAuthenticationOptions,\n  OnYourDataEncodedApiKeyAuthenticationOptions,\n  OnYourDataAccessTokenAuthenticationOptions,\n  OnYourDataUserAssignedManagedIdentityAuthenticationOptions,\n  OnYourDataAuthenticationOptionsUnion,\n  OnYourDataEndpointVectorizationSource,\n  OnYourDataDeploymentNameVectorizationSource,\n  OnYourDataModelIdVectorizationSource,\n  OnYourDataVectorizationSourceUnion,\n} from \"../models/models.js\";\nimport { snakeCaseKeys } from \"../api/util.js\";\n\n/** serialize function for ChatRequestUserMessage */\nfunction serializeChatRequestUserMessage(obj: ChatRequestUserMessage): ChatRequestUserMessageRest {\n  return {\n    role: obj[\"role\"],\n    content:\n      typeof obj[\"content\"] === \"string\"\n        ? obj[\"content\"]\n        : obj[\"content\"].map(serializeChatRequestContentItemUnion),\n    name: obj[\"name\"],\n  };\n}\n\n/** serialize function for ChatMessageImageContentItem */\nfunction serializeChatRequestContentItemUnion(\n  obj: ChatMessageContentItemUnion,\n): ChatMessageContentItemRest {\n  switch (obj.type) {\n    case \"image_url\":\n      return serializeChatMessageImageContentItem(obj as ChatMessageImageContentItem);\n    default:\n      return obj;\n  }\n}\n/** serialize function for ChatRequestAssistantMessage */\nfunction serializeChatRequestAssistantMessage(\n  obj: ChatRequestAssistantMessage,\n): ChatRequestAssistantMessageRest {\n  if (obj.content === undefined) {\n    obj.content = null;\n  }\n  const { functionCall, toolCalls, ...rest } = obj;\n  return {\n    ...snakeCaseKeys(rest),\n    ...(!toolCalls || toolCalls.length === 0 ? {} : { tool_calls: toolCalls }),\n    ...(functionCall ? { function_call: functionCall } : {}),\n  };\n}\n\n/** serialize function for ChatRequestToolMessage */\nfunction serializeChatRequestToolMessage(obj: ChatRequestToolMessage): ChatRequestToolMessageRest {\n  return {\n    role: obj[\"role\"],\n    content: obj[\"content\"],\n    tool_call_id: obj[\"toolCallId\"],\n  };\n}\n\n/** serialize function for ChatRequestMessageUnion */\nexport function serializeChatRequestMessageUnion(\n  obj: ChatRequestMessageUnion,\n): ChatRequestMessageRest {\n  switch (obj.role) {\n    case \"user\":\n      return serializeChatRequestUserMessage(obj as ChatRequestUserMessage);\n    case \"assistant\":\n      return serializeChatRequestAssistantMessage(obj as ChatRequestAssistantMessage);\n    case \"tool\":\n      return serializeChatRequestToolMessage(obj as ChatRequestToolMessage);\n    default:\n      return obj;\n  }\n}\n\n/** serialize function for ChatMessageImageContentItem */\nfunction serializeChatMessageImageContentItem(\n  obj: ChatMessageImageContentItem,\n): ChatMessageImageContentItemRest {\n  return {\n    type: obj[\"type\"],\n    image_url: { url: obj.imageUrl[\"url\"], detail: obj.imageUrl[\"detail\"] },\n  };\n}\n\n/** serialize function for ChatMessageContentItemUnion */\nexport function serializeChatMessageContentItemUnion(\n  obj: ChatMessageContentItemUnion,\n): ChatMessageContentItemRest {\n  switch (obj.type) {\n    case \"image_url\":\n      return serializeChatMessageImageContentItem(obj as ChatMessageImageContentItem);\n    default:\n      return obj;\n  }\n}\n\n/** serialize function for AzureSearchChatExtensionConfiguration */\nfunction serializeAzureSearchChatExtensionConfiguration(\n  obj: AzureSearchChatExtensionConfiguration,\n): AzureSearchChatExtensionConfigurationRest {\n  return {\n    type: obj[\"type\"],\n    parameters: {\n      authentication: !obj.authentication\n        ? obj.authentication\n        : serializeOnYourDataAuthenticationOptionsUnion(obj.authentication),\n      top_n_documents: obj[\"topNDocuments\"],\n      in_scope: obj[\"inScope\"],\n      strictness: obj[\"strictness\"],\n      role_information: obj[\"roleInformation\"],\n      endpoint: obj[\"endpoint\"],\n      index_name: obj[\"indexName\"],\n      fields_mapping: !obj.fieldsMapping\n        ? undefined\n        : {\n            title_field: obj.fieldsMapping?.[\"titleField\"],\n            url_field: obj.fieldsMapping?.[\"urlField\"],\n            filepath_field: obj.fieldsMapping?.[\"filepathField\"],\n            content_fields: obj.fieldsMapping?.[\"contentFields\"],\n            content_fields_separator: obj.fieldsMapping?.[\"contentFieldsSeparator\"],\n            vector_fields: obj.fieldsMapping?.[\"vectorFields\"],\n            image_vector_fields: obj.fieldsMapping?.[\"imageVectorFields\"],\n          },\n      query_type: obj[\"queryType\"],\n      semantic_configuration: obj[\"semanticConfiguration\"],\n      filter: obj[\"filter\"],\n      embedding_dependency: !obj.embeddingDependency\n        ? obj.embeddingDependency\n        : serializeOnYourDataVectorizationSourceUnion(obj.embeddingDependency),\n    },\n  };\n}\n\n/** serialize function for AzureMachineLearningIndexChatExtensionConfiguration */\nfunction serializeAzureMachineLearningIndexChatExtensionConfiguration(\n  obj: AzureMachineLearningIndexChatExtensionConfiguration,\n): AzureMachineLearningIndexChatExtensionConfigurationRest {\n  return {\n    type: obj[\"type\"],\n    parameters: {\n      authentication: !obj.authentication\n        ? obj.authentication\n        : serializeOnYourDataAuthenticationOptionsUnion(obj.authentication),\n      top_n_documents: obj[\"topNDocuments\"],\n      in_scope: obj[\"inScope\"],\n      strictness: obj[\"strictness\"],\n      role_information: obj[\"roleInformation\"],\n      project_resource_id: obj[\"projectResourceId\"],\n      name: obj[\"name\"],\n      version: obj[\"version\"],\n      filter: obj[\"filter\"],\n    },\n  };\n}\n\n/** serialize function for AzureCosmosDBChatExtensionConfiguration */\nfunction serializeAzureCosmosDBChatExtensionConfiguration(\n  obj: AzureCosmosDBChatExtensionConfiguration,\n): AzureCosmosDBChatExtensionConfigurationRest {\n  return {\n    type: obj[\"type\"],\n    parameters: {\n      authentication: !obj.authentication\n        ? obj.authentication\n        : serializeOnYourDataAuthenticationOptionsUnion(obj.authentication),\n      top_n_documents: obj[\"topNDocuments\"],\n      in_scope: obj[\"inScope\"],\n      strictness: obj[\"strictness\"],\n      role_information: obj[\"roleInformation\"],\n      database_name: obj[\"databaseName\"],\n      container_name: obj[\"containerName\"],\n      index_name: obj[\"indexName\"],\n      fields_mapping: {\n        title_field: obj.fieldsMapping[\"titleField\"],\n        url_field: obj.fieldsMapping[\"urlField\"],\n        filepath_field: obj.fieldsMapping[\"filepathField\"],\n        content_fields: obj.fieldsMapping[\"contentFields\"],\n        content_fields_separator: obj.fieldsMapping[\"contentFieldsSeparator\"],\n        vector_fields: obj.fieldsMapping[\"vectorFields\"],\n      },\n      embedding_dependency: serializeOnYourDataVectorizationSourceUnion(obj.embeddingDependency),\n    },\n  };\n}\n\n/** serialize function for ElasticsearchChatExtensionConfiguration */\nfunction serializeElasticsearchChatExtensionConfiguration(\n  obj: ElasticsearchChatExtensionConfiguration,\n): ElasticsearchChatExtensionConfigurationRest {\n  return {\n    type: obj[\"type\"],\n    parameters: {\n      authentication: !obj.authentication\n        ? obj.authentication\n        : serializeOnYourDataAuthenticationOptionsUnion(obj.authentication),\n      top_n_documents: obj[\"topNDocuments\"],\n      in_scope: obj[\"inScope\"],\n      strictness: obj[\"strictness\"],\n      role_information: obj[\"roleInformation\"],\n      endpoint: obj[\"endpoint\"],\n      index_name: obj[\"indexName\"],\n      fields_mapping: !obj.fieldsMapping\n        ? undefined\n        : {\n            title_field: obj.fieldsMapping?.[\"titleField\"],\n            url_field: obj.fieldsMapping?.[\"urlField\"],\n            filepath_field: obj.fieldsMapping?.[\"filepathField\"],\n            content_fields: obj.fieldsMapping?.[\"contentFields\"],\n            content_fields_separator: obj.fieldsMapping?.[\"contentFieldsSeparator\"],\n            vector_fields: obj.fieldsMapping?.[\"vectorFields\"],\n          },\n      query_type: obj[\"queryType\"],\n      embedding_dependency: !obj.embeddingDependency\n        ? obj.embeddingDependency\n        : serializeOnYourDataVectorizationSourceUnion(obj.embeddingDependency),\n    },\n  };\n}\n\n/** serialize function for PineconeChatExtensionConfiguration */\nfunction serializePineconeChatExtensionConfiguration(\n  obj: PineconeChatExtensionConfiguration,\n): PineconeChatExtensionConfigurationRest {\n  return {\n    type: obj[\"type\"],\n    parameters: {\n      authentication: !obj.authentication\n        ? obj.authentication\n        : serializeOnYourDataAuthenticationOptionsUnion(obj.authentication),\n      top_n_documents: obj[\"topNDocuments\"],\n      in_scope: obj[\"inScope\"],\n      strictness: obj[\"strictness\"],\n      role_information: obj[\"roleInformation\"],\n      environment: obj[\"environment\"],\n      index_name: obj[\"indexName\"],\n      fields_mapping: {\n        title_field: obj.fieldsMapping[\"titleField\"],\n        url_field: obj.fieldsMapping[\"urlField\"],\n        filepath_field: obj.fieldsMapping[\"filepathField\"],\n        content_fields: obj.fieldsMapping[\"contentFields\"],\n        content_fields_separator: obj.fieldsMapping[\"contentFieldsSeparator\"],\n      },\n      embedding_dependency: serializeOnYourDataVectorizationSourceUnion(obj.embeddingDependency),\n    },\n  };\n}\n\n/** serialize function for AzureChatExtensionConfigurationUnion */\nexport function serializeAzureChatExtensionConfigurationUnion(\n  obj: AzureChatExtensionConfigurationUnion,\n): AzureChatExtensionConfigurationRest {\n  switch (obj.type) {\n    case \"azure_search\":\n      return serializeAzureSearchChatExtensionConfiguration(\n        obj as AzureSearchChatExtensionConfiguration,\n      );\n    case \"azure_ml_index\":\n      return serializeAzureMachineLearningIndexChatExtensionConfiguration(\n        obj as AzureMachineLearningIndexChatExtensionConfiguration,\n      );\n    case \"azure_cosmos_db\":\n      return serializeAzureCosmosDBChatExtensionConfiguration(\n        obj as AzureCosmosDBChatExtensionConfiguration,\n      );\n    case \"elasticsearch\":\n      return serializeElasticsearchChatExtensionConfiguration(\n        obj as ElasticsearchChatExtensionConfiguration,\n      );\n    case \"pinecone\":\n      return serializePineconeChatExtensionConfiguration(obj as PineconeChatExtensionConfiguration);\n    default:\n      return obj;\n  }\n}\n\n/** serialize function for OnYourDataConnectionStringAuthenticationOptions */\nfunction serializeOnYourDataConnectionStringAuthenticationOptions(\n  obj: OnYourDataConnectionStringAuthenticationOptions,\n): OnYourDataConnectionStringAuthenticationOptionsRest {\n  return { type: obj[\"type\"], connection_string: obj[\"connectionString\"] };\n}\n\n/** serialize function for OnYourDataKeyAndKeyIdAuthenticationOptions */\nfunction serializeOnYourDataKeyAndKeyIdAuthenticationOptions(\n  obj: OnYourDataKeyAndKeyIdAuthenticationOptions,\n): OnYourDataKeyAndKeyIdAuthenticationOptionsRest {\n  return { type: obj[\"type\"], key: obj[\"key\"], key_id: obj[\"keyId\"] };\n}\n\n/** serialize function for OnYourDataEncodedApiKeyAuthenticationOptions */\nfunction serializeOnYourDataEncodedApiKeyAuthenticationOptions(\n  obj: OnYourDataEncodedApiKeyAuthenticationOptions,\n): OnYourDataEncodedApiKeyAuthenticationOptionsRest {\n  return { type: obj[\"type\"], encoded_api_key: obj[\"encodedApiKey\"] };\n}\n\n/** serialize function for OnYourDataAccessTokenAuthenticationOptions */\nfunction serializeOnYourDataAccessTokenAuthenticationOptions(\n  obj: OnYourDataAccessTokenAuthenticationOptions,\n): OnYourDataAccessTokenAuthenticationOptionsRest {\n  return { type: obj[\"type\"], access_token: obj[\"accessToken\"] };\n}\n\n/** serialize function for OnYourDataUserAssignedManagedIdentityAuthenticationOptions */\nfunction serializeOnYourDataUserAssignedManagedIdentityAuthenticationOptions(\n  obj: OnYourDataUserAssignedManagedIdentityAuthenticationOptions,\n): OnYourDataUserAssignedManagedIdentityAuthenticationOptionsRest {\n  return {\n    type: obj[\"type\"],\n    managed_identity_resource_id: obj[\"managedIdentityResourceId\"],\n  };\n}\n\n/** serialize function for OnYourDataAuthenticationOptionsUnion */\nexport function serializeOnYourDataAuthenticationOptionsUnion(\n  obj: OnYourDataAuthenticationOptionsUnion,\n): OnYourDataAuthenticationOptionsRest {\n  switch (obj.type) {\n    case \"connection_string\":\n      return serializeOnYourDataConnectionStringAuthenticationOptions(\n        obj as OnYourDataConnectionStringAuthenticationOptions,\n      );\n    case \"key_and_key_id\":\n      return serializeOnYourDataKeyAndKeyIdAuthenticationOptions(\n        obj as OnYourDataKeyAndKeyIdAuthenticationOptions,\n      );\n    case \"encoded_api_key\":\n      return serializeOnYourDataEncodedApiKeyAuthenticationOptions(\n        obj as OnYourDataEncodedApiKeyAuthenticationOptions,\n      );\n    case \"access_token\":\n      return serializeOnYourDataAccessTokenAuthenticationOptions(\n        obj as OnYourDataAccessTokenAuthenticationOptions,\n      );\n    case \"user_assigned_managed_identity\":\n      return serializeOnYourDataUserAssignedManagedIdentityAuthenticationOptions(\n        obj as OnYourDataUserAssignedManagedIdentityAuthenticationOptions,\n      );\n    default:\n      return obj;\n  }\n}\n\n/** serialize function for OnYourDataEndpointVectorizationSource */\nfunction serializeOnYourDataEndpointVectorizationSource(\n  obj: OnYourDataEndpointVectorizationSource,\n): OnYourDataEndpointVectorizationSourceRest {\n  return {\n    type: obj[\"type\"],\n    endpoint: obj[\"endpoint\"],\n    authentication: serializeOnYourDataAuthenticationOptionsUnion(obj.authentication),\n  };\n}\n\n/** serialize function for OnYourDataDeploymentNameVectorizationSource */\nfunction serializeOnYourDataDeploymentNameVectorizationSource(\n  obj: OnYourDataDeploymentNameVectorizationSource,\n): OnYourDataDeploymentNameVectorizationSourceRest {\n  return { type: obj[\"type\"], deployment_name: obj[\"deploymentName\"] };\n}\n\n/** serialize function for OnYourDataModelIdVectorizationSource */\nfunction serializeOnYourDataModelIdVectorizationSource(\n  obj: OnYourDataModelIdVectorizationSource,\n): OnYourDataModelIdVectorizationSourceRest {\n  return { type: obj[\"type\"], model_id: obj[\"modelId\"] };\n}\n\n/** serialize function for OnYourDataVectorizationSourceUnion */\nexport function serializeOnYourDataVectorizationSourceUnion(\n  obj: OnYourDataVectorizationSourceUnion,\n): OnYourDataVectorizationSourceRest {\n  switch (obj.type) {\n    case \"endpoint\":\n      return serializeOnYourDataEndpointVectorizationSource(\n        obj as OnYourDataEndpointVectorizationSource,\n      );\n    case \"deployment_name\":\n      return serializeOnYourDataDeploymentNameVectorizationSource(\n        obj as OnYourDataDeploymentNameVectorizationSource,\n      );\n    case \"model_id\":\n      return serializeOnYourDataModelIdVectorizationSource(\n        obj as OnYourDataModelIdVectorizationSource,\n      );\n    default:\n      return obj;\n  }\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { StreamableMethod } from \"@azure-rest/core-client\";\nimport { RestError } from \"@azure/core-rest-pipeline\";\nimport { wrapError } from \"./util.js\";\nimport { IncomingMessage } from \"http\";\n\nexport async function getStream<TResponse>(\n  response: StreamableMethod<TResponse>,\n): Promise<IncomingMessage> {\n  const { body, status } = await response.asNodeStream();\n  if (status !== \"200\" && body !== undefined) {\n    const text = await streamToText(body);\n    throw wrapError(() => JSON.parse(text).error, \"Error parsing response body\");\n  }\n\n  if (!body) throw new Error(\"No stream found in response. Did you enable the stream option?\");\n  return body as IncomingMessage;\n}\n\nfunction streamToText(stream: NodeJS.ReadableStream): Promise<string> {\n  return new Promise<string>((resolve, reject) => {\n    const buffer: Buffer[] = [];\n\n    stream.on(\"data\", (chunk) => {\n      if (Buffer.isBuffer(chunk)) {\n        buffer.push(chunk);\n      } else {\n        buffer.push(Buffer.from(chunk));\n      }\n    });\n    stream.on(\"end\", () => {\n      resolve(Buffer.concat(buffer).toString(\"utf8\"));\n    });\n    stream.on(\"error\", (e) => {\n      if (e && e?.name === \"AbortError\") {\n        reject(e);\n      } else {\n        reject(\n          new RestError(`Error reading response as text: ${e.message}`, {\n            code: RestError.PARSE_ERROR,\n          }),\n        );\n      }\n    });\n  });\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nexport function polyfillStream<T>(stream: ReadableStream<T>): ReadableStream<T> & AsyncIterable<T> {\n  makeAsyncIterable<T>(stream);\n  return stream;\n}\n\nfunction makeAsyncIterable<T>(\n  webStream: any,\n): asserts webStream is ReadableStream<T> & AsyncIterable<T> {\n  if (!webStream[Symbol.asyncIterator]) {\n    webStream[Symbol.asyncIterator] = () => toAsyncIterable(webStream);\n  }\n\n  if (!webStream.values) {\n    webStream.values = () => toAsyncIterable(webStream);\n  }\n}\n\nasync function* toAsyncIterable<T>(stream: ReadableStream<T>): AsyncIterableIterator<T> {\n  const reader = stream.getReader();\n  try {\n    while (true) {\n      const { value, done } = await reader.read();\n      if (done) {\n        return;\n      }\n      yield value;\n    }\n  } finally {\n    const cancelPromise = reader.cancel();\n    reader.releaseLock();\n    await cancelPromise;\n  }\n}\n\nexport async function streamToText(stream: ReadableStream<Uint8Array>): Promise<string> {\n  const reader = stream.getReader();\n  const buffers: Uint8Array[] = [];\n  let length = 0;\n  try {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      const { value, done } = await reader.read();\n      if (done) {\n        return new TextDecoder().decode(concatBuffers(buffers, length));\n      }\n      length += value.length;\n      buffers.push(value);\n    }\n  } finally {\n    reader.releaseLock();\n  }\n}\n\nfunction getBuffersLength(buffers: Uint8Array[]): number {\n  return buffers.reduce((acc, curr) => acc + curr.length, 0);\n}\n\nfunction concatBuffers(buffers: Uint8Array[], len?: number): Uint8Array {\n  const length = len ?? getBuffersLength(buffers);\n  const res = new Uint8Array(length);\n  for (let i = 0, pos = 0; i < buffers.length; i++) {\n    const buffer = buffers[i];\n    res.set(buffer, pos);\n    pos += buffer.length;\n  }\n\n  return res;\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { StreamableMethod } from \"@azure-rest/core-client\";\nimport { getStream } from \"./getSSEs.js\";\nimport { wrapError } from \"./util.js\";\nimport { EventStream } from \"../models/models.js\";\nimport { EventMessage, createSseStream } from \"@azure/core-sse\";\nimport { polyfillStream } from \"./readableStreamUtils.js\";\n\nexport async function getOaiSSEs<TEvent, O extends Record<string, any>>(\n  response: StreamableMethod<unknown>,\n  toEvent: (obj: O) => TEvent,\n): Promise<EventStream<TEvent>> {\n  const stringStream = await getStream(response);\n  const eventStream = createSseStream(stringStream);\n  const jsonParser = new TransformStream<EventMessage, TEvent>({\n    transform: async (chunk, controller) => {\n      if (chunk.data === \"[DONE]\") {\n        return;\n      }\n      controller.enqueue(\n        toEvent(\n          wrapError(\n            () => JSON.parse(chunk.data),\n            \"Error parsing an event. See 'cause' for more details\",\n          ),\n        ),\n      );\n    },\n  });\n  /** TODO: remove these polyfills once all supported runtimes support them */\n  return polyfillStream(eventStream.pipeThrough(jsonParser));\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport {\n  CompletionsOptions,\n  Completions,\n  ChatCompletionsOptions,\n  ChatCompletions,\n  ImageGenerationOptions,\n  ImageGenerations,\n  EmbeddingsOptions,\n  Embeddings,\n  ChatRequestMessageUnion,\n  EventStream,\n  ContentFilterResultsForChoice,\n  ContentFilterResultDetailsForPrompt,\n  ContentFilterResultsForPrompt,\n} from \"../models/models.js\";\nimport {\n  serializeChatRequestMessageUnion,\n  serializeAzureChatExtensionConfigurationUnion,\n} from \"../utils/serializeUtil.js\";\nimport {\n  GetChatCompletions200Response,\n  GetChatCompletionsDefaultResponse,\n  GetCompletions200Response,\n  GetCompletionsDefaultResponse,\n  GetEmbeddings200Response,\n  GetEmbeddingsDefaultResponse,\n  GetImageGenerations200Response,\n  GetImageGenerationsDefaultResponse,\n  isUnexpected,\n  OpenAIContext as Client,\n  ContentFilterResultsForChoiceOutput,\n  ContentFilterResultDetailsForPromptOutput,\n  ContentFilterResultsForPromptOutput,\n  ChatCompletionsOutput,\n  CompletionsOutput,\n} from \"../rest/index.js\";\nimport {\n  StreamableMethod,\n  operationOptionsToRequestParameters,\n  ErrorModel,\n} from \"@azure-rest/core-client\";\nimport {\n  GetCompletionsOptions,\n  GetChatCompletionsOptions,\n  GetEmbeddingsOptions,\n  GetImagesOptions,\n  GetImageGenerationsOptions,\n  GeneratedGetChatCompletionsOptions,\n} from \"../models/options.js\";\nimport { getOaiSSEs } from \"./oaiSse.js\";\nimport { createFile } from \"@azure/core-rest-pipeline\";\nimport {\n  GetAudioTranscriptionOptions,\n  AudioResultSimpleJson,\n  AudioResultFormat,\n  AudioResult,\n  GetAudioTranslationOptions,\n} from \"../models/audio.js\";\nimport { snakeCaseKeys, camelCaseKeys } from \"./util.js\";\n\n/**\n * Returns the transcription of an audio file in a simple JSON format.\n * @param context - The context containing the client to use for this request.\n * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n * @param fileContent - The content of the audio file to transcribe.\n * @param options - The options for this audio transcription request.\n * @returns The audio transcription result in a simple JSON format.\n */\nexport async function getAudioTranscription(\n  context: Client,\n  deploymentName: string,\n  fileContent: Uint8Array,\n  options?: GetAudioTranscriptionOptions,\n): Promise<AudioResultSimpleJson>;\n/**\n * Returns the transcription of an audio file.\n * @param context - The context containing the client to use for this request.\n * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n * @param fileContent - The content of the audio file to transcribe.\n * @param format - The format of the result object. See {@link AudioResultFormat} for possible values.\n * @param options - The options for this audio transcription request.\n * @returns The audio transcription result in a format of your choice.\n */\nexport async function getAudioTranscription<Format extends AudioResultFormat>(\n  context: Client,\n  deploymentName: string,\n  fileContent: Uint8Array,\n  format: Format,\n  options?: GetAudioTranscriptionOptions,\n): Promise<AudioResult<Format>>;\n// implementation\nexport async function getAudioTranscription<Format extends AudioResultFormat>(\n  context: Client,\n  deploymentName: string,\n  fileContent: Uint8Array,\n  formatOrOptions?: Format | GetAudioTranscriptionOptions,\n  inputOptions?: GetAudioTranscriptionOptions,\n): Promise<AudioResult<Format>> {\n  const options =\n    inputOptions ?? (typeof formatOrOptions === \"string\" ? {} : formatOrOptions ?? {});\n  const response_format = typeof formatOrOptions === \"string\" ? formatOrOptions : undefined;\n  const { abortSignal, onResponse, requestOptions, tracingOptions, ...rest } = options;\n  const { body, status } = await context\n    .pathUnchecked(\"deployments/{deploymentName}/audio/transcriptions\", deploymentName)\n    .post({\n      ...operationOptionsToRequestParameters({\n        abortSignal,\n        onResponse,\n        tracingOptions,\n        requestOptions,\n      }),\n      contentType: \"multipart/form-data\",\n      body: {\n        ...snakeCaseKeys(rest),\n        file: createFile(fileContent, \"placeholder.wav\"),\n        ...(response_format ? { response_format } : {}),\n      },\n    });\n  if (status !== \"200\") {\n    throw body.error;\n  }\n  return response_format !== \"verbose_json\"\n    ? body\n    : (camelCaseKeys(body) as unknown as AudioResult<Format>);\n}\n\n/**\n * Returns the translation of an audio file.\n * @param context - The context containing the client to use for this request.\n * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n * @param fileContent - The content of the audio file to translate.\n * @param options - The options for this audio translation request.\n * @returns The audio translation result.\n */\nexport async function getAudioTranslation(\n  context: Client,\n  deploymentName: string,\n  fileContent: Uint8Array,\n  options?: GetAudioTranslationOptions,\n): Promise<AudioResultSimpleJson>;\n/**\n * Returns the translation of an audio file.\n * @param context - The context containing the client to use for this request.\n * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n * @param fileContent - The content of the audio file to translate.\n * @param format - The format of the result object. See {@link AudioResultFormat} for possible values.\n * @param options - The options for this audio translation request.\n * @returns The audio translation result.\n */\nexport async function getAudioTranslation<Format extends AudioResultFormat>(\n  context: Client,\n  deploymentName: string,\n  fileContent: Uint8Array,\n  format: Format,\n  options?: GetAudioTranslationOptions,\n): Promise<AudioResult<Format>>;\n// implementation\nexport async function getAudioTranslation<Format extends AudioResultFormat>(\n  context: Client,\n  deploymentName: string,\n  fileContent: Uint8Array,\n  formatOrOptions?: Format | GetAudioTranslationOptions,\n  inputOptions?: GetAudioTranslationOptions,\n): Promise<AudioResult<Format>> {\n  const options =\n    inputOptions ?? (typeof formatOrOptions === \"string\" ? {} : formatOrOptions ?? {});\n  const response_format = typeof formatOrOptions === \"string\" ? formatOrOptions : undefined;\n  const { abortSignal, onResponse, requestOptions, tracingOptions, ...rest } = options;\n  const { body, status } = await context\n    .pathUnchecked(\"deployments/{deploymentName}/audio/translations\", deploymentName)\n    .post({\n      ...operationOptionsToRequestParameters({\n        abortSignal,\n        onResponse,\n        tracingOptions,\n        requestOptions,\n      }),\n      contentType: \"multipart/form-data\",\n      body: {\n        ...snakeCaseKeys(rest),\n        file: createFile(fileContent, \"placeholder.wav\"),\n        ...(response_format ? { response_format } : {}),\n      },\n    });\n  if (status !== \"200\") {\n    throw body.error;\n  }\n  return response_format !== \"verbose_json\"\n    ? body\n    : (camelCaseKeys(body) as unknown as AudioResult<Format>);\n}\n\nexport function _getCompletionsSend(\n  context: Client,\n  deploymentId: string,\n  body: CompletionsOptions,\n  options: GetCompletionsOptions = { requestOptions: {} },\n): StreamableMethod<GetCompletions200Response | GetCompletionsDefaultResponse> {\n  return context.path(\"/deployments/{deploymentId}/completions\", deploymentId).post({\n    ...operationOptionsToRequestParameters(options),\n    body: {\n      prompt: body[\"prompt\"],\n      max_tokens: body[\"maxTokens\"],\n      temperature: body[\"temperature\"],\n      top_p: body[\"topP\"],\n      logit_bias: body[\"logitBias\"],\n      user: body[\"user\"],\n      n: body[\"n\"],\n      logprobs: body[\"logprobs\"],\n      suffix: body[\"suffix\"],\n      echo: body[\"echo\"],\n      stop: body[\"stop\"],\n      presence_penalty: body[\"presencePenalty\"],\n      frequency_penalty: body[\"frequencyPenalty\"],\n      best_of: body[\"bestOf\"],\n      stream: body[\"stream\"],\n      model: body[\"model\"],\n    },\n  });\n}\n\nexport async function _getCompletionsDeserialize(\n  result: GetCompletions200Response | GetCompletionsDefaultResponse,\n): Promise<Completions> {\n  if (isUnexpected(result)) {\n    throw result.body.error;\n  }\n\n  return getCompletionsResult(result.body);\n}\n\nexport function getCompletionsResult(\n  body: CompletionsOutput & ContentFilterResultsForPromptX,\n): Completions {\n  const { created, choices, prompt_filter_results, prompt_annotations, ...rest } = body;\n  return {\n    ...camelCaseKeys(rest),\n    created: new Date(created),\n    ...{\n      promptFilterResults: getContentFilterResultsForPrompt({\n        prompt_filter_results,\n        prompt_annotations,\n      }),\n    },\n    choices: choices.map(({ content_filter_results, ...choice }) => ({\n      ...camelCaseKeys(choice),\n      ...(!content_filter_results\n        ? {}\n        : {\n            contentFilterResults: parseContentFilterResultsForChoiceOutput(content_filter_results),\n          }),\n    })),\n  };\n}\n\n/**\n * Gets completions for the provided input prompts.\n * Completions support a wide variety of tasks and generate text that continues from or \"completes\"\n * provided prompt data.\n */\nexport async function getCompletions(\n  context: Client,\n  deploymentId: string,\n  body: CompletionsOptions,\n  options: GetCompletionsOptions = { requestOptions: {} },\n): Promise<Completions> {\n  const result = await _getCompletionsSend(context, deploymentId, body, options);\n  return _getCompletionsDeserialize(result);\n}\n\nexport function streamCompletions(\n  context: Client,\n  deploymentName: string,\n  prompt: string[],\n  options: GetCompletionsOptions = { requestOptions: {} },\n): Promise<EventStream<Omit<Completions, \"usage\">>> {\n  const { abortSignal, onResponse, requestOptions, tracingOptions, ...rest } = options;\n  const response = _getCompletionsSend(\n    context,\n    deploymentName,\n    {\n      prompt,\n      ...rest,\n      stream: true,\n    },\n    { abortSignal, onResponse, requestOptions, tracingOptions },\n  );\n  return getOaiSSEs(response, getCompletionsResult);\n}\n\nexport function _getChatCompletionsSend(\n  context: Client,\n  deploymentId: string,\n  body: ChatCompletionsOptions,\n  options: GeneratedGetChatCompletionsOptions = { requestOptions: {} },\n): StreamableMethod<GetChatCompletions200Response | GetChatCompletionsDefaultResponse> {\n  return context.path(\"/deployments/{deploymentId}/chat/completions\", deploymentId).post({\n    ...operationOptionsToRequestParameters(options),\n    body: {\n      model: body[\"model\"],\n      stream: body[\"stream\"],\n      max_tokens: body[\"maxTokens\"],\n      temperature: body[\"temperature\"],\n      top_p: body[\"topP\"],\n      logit_bias: body[\"logitBias\"],\n      user: body[\"user\"],\n      n: body[\"n\"],\n      stop: body[\"stop\"],\n      presence_penalty: body[\"presencePenalty\"],\n      frequency_penalty: body[\"frequencyPenalty\"],\n      data_sources:\n        body[\"dataSources\"] === undefined\n          ? body[\"dataSources\"]\n          : body[\"dataSources\"].map((p) => serializeAzureChatExtensionConfigurationUnion(p)),\n      enhancements: !body.enhancements\n        ? undefined\n        : {\n            grounding: !body.enhancements?.grounding\n              ? undefined\n              : { enabled: body.enhancements?.grounding?.[\"enabled\"] },\n            ocr: !body.enhancements?.ocr\n              ? undefined\n              : { enabled: body.enhancements?.ocr?.[\"enabled\"] },\n          },\n      seed: body[\"seed\"],\n      logprobs: body[\"logprobs\"],\n      top_logprobs: body[\"topLogprobs\"],\n      response_format: !body.responseFormat ? undefined : { type: body.responseFormat?.[\"type\"] },\n      tool_choice: body[\"toolChoice\"],\n      tools: body[\"tools\"],\n      functions:\n        body[\"functions\"] === undefined\n          ? body[\"functions\"]\n          : body[\"functions\"].map((p) => ({\n              name: p[\"name\"],\n              description: p[\"description\"],\n              parameters: p[\"parameters\"],\n            })),\n      function_call: body[\"functionCall\"],\n      messages: body[\"messages\"].map((p) => serializeChatRequestMessageUnion(p)),\n    },\n  });\n}\n\nexport async function _getChatCompletionsDeserialize(\n  result: GetChatCompletions200Response | GetChatCompletionsDefaultResponse,\n): Promise<ChatCompletions> {\n  if (isUnexpected(result)) {\n    throw result.body.error;\n  }\n\n  return getChatCompletionsResult(result.body);\n}\n\nexport function getChatCompletionsResult(\n  body: ChatCompletionsOutput & ContentFilterResultsForPromptX,\n): ChatCompletions {\n  const { created, choices, prompt_filter_results, prompt_annotations, usage, ...rest } = body;\n  return {\n    ...camelCaseKeys(rest),\n    created: new Date(created),\n    ...{\n      promptFilterResults: getContentFilterResultsForPrompt({\n        prompt_filter_results,\n        prompt_annotations,\n      }),\n    },\n    ...(!usage\n      ? {}\n      : {\n          usage: {\n            completionTokens: usage[\"completion_tokens\"],\n            promptTokens: usage[\"prompt_tokens\"],\n            totalTokens: usage[\"total_tokens\"],\n          },\n        }),\n    choices: !choices\n      ? []\n      : choices.map(({ content_filter_results, ...choice }) => ({\n          ...camelCaseKeys(choice),\n          ...(!content_filter_results\n            ? {}\n            : {\n                contentFilterResults:\n                  parseContentFilterResultsForChoiceOutput(content_filter_results),\n              }),\n        })),\n  };\n}\n\n/**\n * Gets chat completions for the provided chat messages.\n * Completions support a wide variety of tasks and generate text that continues from or \"completes\"\n * provided prompt data.\n */\nexport async function getChatCompletions(\n  context: Client,\n  deploymentName: string,\n  messages: ChatRequestMessageUnion[],\n  options: GetChatCompletionsOptions = { requestOptions: {} },\n): Promise<ChatCompletions> {\n  const result = await _getChatCompletionsSendX(context, deploymentName, messages, options);\n  return _getChatCompletionsDeserialize(result);\n}\n\nfunction _getChatCompletionsSendX(\n  context: Client,\n  deploymentName: string,\n  messages: ChatRequestMessageUnion[],\n  options: GetChatCompletionsOptions & { stream?: boolean } = { requestOptions: {} },\n): StreamableMethod<GetChatCompletions200Response | GetChatCompletionsDefaultResponse> {\n  const {\n    azureExtensionOptions,\n    abortSignal,\n    onResponse,\n    requestOptions,\n    tracingOptions,\n    ...rest\n  } = options;\n  const coreOptions = {\n    abortSignal,\n    onResponse,\n    requestOptions,\n    tracingOptions,\n  };\n  const azure = {\n    ...(!azureExtensionOptions?.extensions\n      ? {}\n      : { dataSources: azureExtensionOptions.extensions }),\n    ...(!azureExtensionOptions?.enhancements\n      ? {}\n      : { enhancements: azureExtensionOptions.enhancements }),\n  };\n  return _getChatCompletionsSend(\n    context,\n    deploymentName,\n    { messages, ...rest, ...azure },\n    coreOptions,\n  );\n}\n\nexport function streamChatCompletions(\n  context: Client,\n  deploymentName: string,\n  messages: ChatRequestMessageUnion[],\n  options: GetChatCompletionsOptions = { requestOptions: {} },\n): Promise<EventStream<ChatCompletions>> {\n  const response = _getChatCompletionsSendX(context, deploymentName, messages, {\n    ...options,\n    stream: true,\n  });\n  return getOaiSSEs(response, getChatCompletionsResult);\n}\n\nexport function _getImageGenerationsSend(\n  context: Client,\n  deploymentId: string,\n  body: ImageGenerationOptions,\n  options: GetImageGenerationsOptions = { requestOptions: {} },\n): StreamableMethod<GetImageGenerations200Response | GetImageGenerationsDefaultResponse> {\n  return context.path(\"/deployments/{deploymentId}/images/generations\", deploymentId).post({\n    ...operationOptionsToRequestParameters(options),\n    body: {\n      model: body[\"model\"],\n      prompt: body[\"prompt\"],\n      n: body[\"n\"],\n      size: body[\"size\"],\n      response_format: body[\"responseFormat\"],\n      quality: body[\"quality\"],\n      style: body[\"style\"],\n      user: body[\"user\"],\n    },\n  });\n}\n\nexport async function _getImageGenerationsDeserialize(\n  result: GetImageGenerations200Response | GetImageGenerationsDefaultResponse,\n): Promise<ImageGenerations> {\n  if (isUnexpected(result)) {\n    throw result.body.error;\n  }\n\n  return {\n    created: new Date(result.body[\"created\"]),\n    data: result.body[\"data\"].map((p) => ({\n      url: p[\"url\"],\n      base64Data: p[\"b64_json\"],\n      contentFilterResults: !p.content_filter_results\n        ? undefined\n        : {\n            sexual: !p.content_filter_results?.sexual\n              ? undefined\n              : {\n                  severity: p.content_filter_results?.sexual?.[\"severity\"],\n                  filtered: p.content_filter_results?.sexual?.[\"filtered\"],\n                },\n            violence: !p.content_filter_results?.violence\n              ? undefined\n              : {\n                  severity: p.content_filter_results?.violence?.[\"severity\"],\n                  filtered: p.content_filter_results?.violence?.[\"filtered\"],\n                },\n            hate: !p.content_filter_results?.hate\n              ? undefined\n              : {\n                  severity: p.content_filter_results?.hate?.[\"severity\"],\n                  filtered: p.content_filter_results?.hate?.[\"filtered\"],\n                },\n            selfHarm: !p.content_filter_results?.self_harm\n              ? undefined\n              : {\n                  severity: p.content_filter_results?.self_harm?.[\"severity\"],\n                  filtered: p.content_filter_results?.self_harm?.[\"filtered\"],\n                },\n          },\n      revisedPrompt: p[\"revised_prompt\"],\n      promptFilterResults: !p.prompt_filter_results\n        ? undefined\n        : {\n            sexual: !p.prompt_filter_results?.sexual\n              ? undefined\n              : {\n                  severity: p.prompt_filter_results?.sexual?.[\"severity\"],\n                  filtered: p.prompt_filter_results?.sexual?.[\"filtered\"],\n                },\n            violence: !p.prompt_filter_results?.violence\n              ? undefined\n              : {\n                  severity: p.prompt_filter_results?.violence?.[\"severity\"],\n                  filtered: p.prompt_filter_results?.violence?.[\"filtered\"],\n                },\n            hate: !p.prompt_filter_results?.hate\n              ? undefined\n              : {\n                  severity: p.prompt_filter_results?.hate?.[\"severity\"],\n                  filtered: p.prompt_filter_results?.hate?.[\"filtered\"],\n                },\n            selfHarm: !p.prompt_filter_results?.self_harm\n              ? undefined\n              : {\n                  severity: p.prompt_filter_results?.self_harm?.[\"severity\"],\n                  filtered: p.prompt_filter_results?.self_harm?.[\"filtered\"],\n                },\n            profanity: !p.prompt_filter_results?.profanity\n              ? undefined\n              : {\n                  filtered: p.prompt_filter_results?.profanity?.[\"filtered\"],\n                  detected: p.prompt_filter_results?.profanity?.[\"detected\"],\n                },\n            jailbreak: !p.prompt_filter_results?.jailbreak\n              ? undefined\n              : {\n                  filtered: p.prompt_filter_results?.jailbreak?.[\"filtered\"],\n                  detected: p.prompt_filter_results?.jailbreak?.[\"detected\"],\n                },\n          },\n    })),\n  };\n}\n\n/** Creates an image given a prompt. */\nexport async function getImageGenerations(\n  context: Client,\n  deploymentId: string,\n  body: ImageGenerationOptions,\n  options: GetImagesOptions = { requestOptions: {} },\n): Promise<ImageGenerations> {\n  const result = await _getImageGenerationsSend(context, deploymentId, body, options);\n  return _getImageGenerationsDeserialize(result);\n}\n\nexport function _getEmbeddingsSend(\n  context: Client,\n  deploymentId: string,\n  body: EmbeddingsOptions,\n  options: GetEmbeddingsOptions = { requestOptions: {} },\n): StreamableMethod<GetEmbeddings200Response | GetEmbeddingsDefaultResponse> {\n  return context.path(\"/deployments/{deploymentId}/embeddings\", deploymentId).post({\n    ...operationOptionsToRequestParameters(options),\n    body: {\n      user: body[\"user\"],\n      model: body[\"model\"],\n      input: body[\"input\"],\n      dimensions: body[\"dimensions\"],\n    },\n  });\n}\n\nexport async function _getEmbeddingsDeserialize(\n  result: GetEmbeddings200Response | GetEmbeddingsDefaultResponse,\n): Promise<Embeddings> {\n  if (isUnexpected(result)) {\n    throw result.body.error;\n  }\n\n  return {\n    data: result.body[\"data\"].map((p) => ({\n      embedding: p[\"embedding\"],\n      index: p[\"index\"],\n    })),\n    usage: {\n      promptTokens: result.body.usage[\"prompt_tokens\"],\n      totalTokens: result.body.usage[\"total_tokens\"],\n    },\n  };\n}\n\n/** Return the embeddings for a given prompt. */\nexport async function getEmbeddings(\n  context: Client,\n  deploymentId: string,\n  body: EmbeddingsOptions,\n  options: GetEmbeddingsOptions = { requestOptions: {} },\n): Promise<Embeddings> {\n  const result = await _getEmbeddingsSend(context, deploymentId, body, options);\n  return _getEmbeddingsDeserialize(result);\n}\n\ntype ContentFilterResultsForPromptX = {\n  prompt_filter_results?: Array<ContentFilterResultsForPromptOutput>;\n  prompt_annotations?: Array<ContentFilterResultsForPromptOutput>;\n};\n\nfunction getContentFilterResultsForPrompt({\n  prompt_annotations,\n  prompt_filter_results,\n}: ContentFilterResultsForPromptX): ContentFilterResultsForPrompt[] | undefined {\n  const res = prompt_filter_results ?? prompt_annotations;\n  return res?.map(({ content_filter_results, ...rest }) => ({\n    ...camelCaseKeys(rest),\n    contentFilterResults: parseContentFilterResultDetailsForPromptOutput(content_filter_results),\n  }));\n}\n\nfunction parseContentFilterResultDetailsForPromptOutput({\n  error,\n  ...rest\n}: ContentFilterResultDetailsForPromptOutput = {}): ContentFilterResultDetailsForPrompt {\n  return error ? parseError(error) : camelCaseKeys(rest);\n}\n\nfunction parseError(error: ErrorModel): { error: ErrorModel } {\n  return {\n    error: {\n      ...error,\n      details: error[\"details\"] ?? [],\n    },\n  };\n}\n\nfunction parseContentFilterResultsForChoiceOutput({\n  error,\n  ...successResult\n}: ContentFilterResultsForChoiceOutput = {}): ContentFilterResultsForChoice {\n  return error\n    ? {\n        error: {\n          ...error,\n          details: error[\"details\"] ?? [],\n        },\n      }\n    : camelCaseKeys(successResult);\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelinePolicy } from \"@azure/core-rest-pipeline\";\n\nexport function nonAzurePolicy(): PipelinePolicy {\n  const policy: PipelinePolicy = {\n    name: \"openAiEndpoint\",\n    sendRequest: (request, next) => {\n      const obj = new URL(request.url);\n      const parts = obj.pathname.split(\"/\");\n      switch (parts[parts.length - 1]) {\n        case \"completions\":\n          if (parts[parts.length - 2] === \"chat\") {\n            obj.pathname = `${parts[1]}/chat/completions`;\n          } else {\n            obj.pathname = `${parts[1]}/completions`;\n          }\n          break;\n        case \"embeddings\":\n          obj.pathname = `${parts[1]}/embeddings`;\n          break;\n        case \"generations\":\n          if (parts[parts.length - 2] === \"images\") {\n            obj.pathname = `${parts[1]}/images/generations`;\n          } else {\n            throw new Error(\"Unexpected path\");\n          }\n          break;\n        case \"transcriptions\":\n          obj.pathname = `${parts[1]}/audio/transcriptions`;\n          break;\n        case \"translations\":\n          obj.pathname = `${parts[1]}/audio/translations`;\n          break;\n      }\n      obj.searchParams.delete(\"api-version\");\n      request.url = obj.toString();\n      return next(request);\n    },\n  };\n  return policy;\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { TokenCredential, KeyCredential, isTokenCredential } from \"@azure/core-auth\";\nimport {\n  Completions,\n  ChatCompletions,\n  ImageGenerations,\n  Embeddings,\n  ChatRequestMessageUnion,\n  EventStream,\n} from \"./models/models.js\";\nimport {\n  GetCompletionsOptions,\n  GetChatCompletionsOptions,\n  GetEmbeddingsOptions,\n  GetImagesOptions,\n} from \"./models/options.js\";\nimport { createOpenAI, OpenAIClientOptions, OpenAIContext } from \"./api/index.js\";\nimport {\n  getCompletions,\n  getChatCompletions,\n  getImageGenerations,\n  getEmbeddings,\n  getAudioTranscription,\n  getAudioTranslation,\n} from \"./api/operations.js\";\nimport { nonAzurePolicy } from \"./api/policies/nonAzure.js\";\nimport { streamChatCompletions, streamCompletions } from \"./api/operations.js\";\nimport {\n  GetAudioTranscriptionOptions,\n  AudioResultSimpleJson,\n  AudioResultFormat,\n  AudioResult,\n  GetAudioTranslationOptions,\n} from \"./models/audio.js\";\n\nfunction createOpenAIEndpoint(version: number): string {\n  return `https://api.openai.com/v${version}`;\n}\n\nfunction isCred(cred: Record<string, any>): cred is TokenCredential | KeyCredential {\n  return isTokenCredential(cred) || cred.key !== undefined;\n}\n\nexport { OpenAIClientOptions } from \"./api/OpenAIContext.js\";\n/**\n * A client for interacting with Azure OpenAI.\n *\n * The client needs the endpoint of an OpenAI resource and an authentication\n * method such as an API key or token. The API key and endpoint can be found in\n * the OpenAI resource page. They will be located in the resource's Keys and Endpoint page.\n *\n * ### Examples for authentication:\n *\n * #### API Key\n *\n * ```js\n * import { OpenAIClient } from \"@azure/openai\";\n * import { AzureKeyCredential } from \"@azure/core-auth\";\n *\n * const endpoint = \"<azure endpoint>\";\n * const credential = new AzureKeyCredential(\"<api key>\");\n *\n * const client = new OpenAIClient(endpoint, credential);\n * ```\n *\n * #### Azure Active Directory\n *\n * ```js\n * import { OpenAIClient } from \"@azure/openai\";\n * import { DefaultAzureCredential } from \"@azure/identity\";\n *\n * const endpoint = \"<azure endpoint>\";\n * const credential = new DefaultAzureCredential();\n *\n * const client = new OpenAIClient(endpoint, credential);\n * ```\n */\nexport class OpenAIClient {\n  private _client: OpenAIContext;\n  private _isAzure = false;\n\n  /**\n   * Initializes an instance of OpenAIClient for use with an Azure OpenAI resource.\n   * @param endpoint - The URI for an Azure OpenAI resource, including protocol and hostname.\n   *                 For example: https://my-resource.openai.azure.com.\n   * @param credential - A key credential used to authenticate to an Azure OpenAI resource.\n   * @param options - The options for configuring the client.\n   * @remarks\n   *   This constructor initializes an OpenAIClient object that can only be used with Azure OpenAI resources.\n   *   To use OpenAIClient with a non-Azure OpenAI inference endpoint, use a constructor that accepts a non-Azure OpenAI API key instead.\n   */\n  constructor(endpoint: string, credential: KeyCredential, options?: OpenAIClientOptions);\n  /**\n   * Initializes an instance of OpenAIClient for use with an Azure OpenAI resource.\n   * @param endpoint - The URI for an Azure OpenAI resource, including protocol and hostname.\n   *                 For example: https://my-resource.openai.azure.com.\n   * @param credential - A token credential used to authenticate with an Azure OpenAI resource.\n   * @param options - The options for configuring the client.\n   */\n  constructor(endpoint: string, credential: TokenCredential, options?: OpenAIClientOptions);\n  /**\n   * Initializes an instance of OpenAIClient for use with the non-Azure OpenAI endpoint.\n   * @param openAiApiKey - The API key to use when connecting to the non-Azure OpenAI endpoint.\n   * @param options - The options for configuring the client.\n   * @remarks\n   *   OpenAIClient objects initialized with this constructor can only be used with the non-Azure OpenAI inference endpoint.\n   *   To use OpenAIClient with an Azure OpenAI resource, use a constructor that accepts a resource URI and Azure authentication credential instead.\n   */\n  constructor(openAiApiKey: KeyCredential, options?: OpenAIClientOptions);\n  constructor(\n    endpointOrOpenAiKey: string | KeyCredential,\n    credOrOptions: KeyCredential | TokenCredential | OpenAIClientOptions = {},\n    options: OpenAIClientOptions = {},\n  ) {\n    let opts: OpenAIClientOptions;\n    let endpoint: string;\n    let cred: KeyCredential | TokenCredential;\n    if (isCred(credOrOptions)) {\n      endpoint = endpointOrOpenAiKey as string;\n      cred = credOrOptions;\n      opts = options;\n      this._isAzure = true;\n    } else {\n      endpoint = createOpenAIEndpoint(1);\n      cred = endpointOrOpenAiKey as KeyCredential;\n      const { credentials, ...restOpts } = credOrOptions;\n      opts = {\n        credentials: {\n          apiKeyHeaderName: credentials?.apiKeyHeaderName ?? \"Authorization\",\n          scopes: credentials?.scopes,\n        },\n        ...restOpts,\n      };\n    }\n    this._client = createOpenAI(endpoint, cred, {\n      ...opts,\n      ...(this._isAzure\n        ? {}\n        : {\n            additionalPolicies: [\n              ...(opts.additionalPolicies ?? []),\n              {\n                position: \"perCall\",\n                policy: nonAzurePolicy(),\n              },\n            ],\n          }),\n    });\n  }\n\n  private setModel(model: string, options: Record<string, any>): void {\n    if (!this._isAzure) {\n      options.model = model;\n    }\n  }\n\n  /**\n   * Returns the translation of an audio file.\n   * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n   * @param fileContent - The content of the audio file to translate.\n   * @param options - The options for this audio translation request.\n   * @returns The audio translation result.\n   */\n  async getAudioTranslation(\n    deploymentName: string,\n    fileContent: Uint8Array,\n    options?: GetAudioTranslationOptions,\n  ): Promise<AudioResultSimpleJson>;\n  /**\n   * Returns the translation of an audio file.\n   * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n   * @param fileContent - The content of the audio file to translate.\n   * @param format - The format of the result object. See {@link AudioResultFormat} for possible values.\n   * @param options - The options for this audio translation request.\n   * @returns The audio translation result.\n   */\n  async getAudioTranslation<Format extends AudioResultFormat>(\n    deploymentName: string,\n    fileContent: Uint8Array,\n    format: Format,\n    options?: GetAudioTranslationOptions,\n  ): Promise<AudioResult<Format>>;\n  // implementation\n  async getAudioTranslation<Format extends AudioResultFormat>(\n    deploymentName: string,\n    fileContent: Uint8Array,\n    formatOrOptions?: Format | GetAudioTranslationOptions,\n    inputOptions?: GetAudioTranslationOptions,\n  ): Promise<AudioResult<Format>> {\n    const options =\n      inputOptions ?? (typeof formatOrOptions === \"string\" ? {} : formatOrOptions ?? {});\n    const response_format = typeof formatOrOptions === \"string\" ? formatOrOptions : undefined;\n    this.setModel(deploymentName, options);\n    if (response_format === undefined) {\n      return getAudioTranslation(this._client, deploymentName, fileContent, options) as Promise<\n        AudioResult<Format>\n      >;\n    }\n    return getAudioTranslation(this._client, deploymentName, fileContent, response_format, options);\n  }\n\n  /**\n   * Returns the transcription of an audio file in a simple JSON format.\n   * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n   * @param fileContent - The content of the audio file to transcribe.\n   * @param options - The options for this audio transcription request.\n   * @returns The audio transcription result in a simple JSON format.\n   */\n  async getAudioTranscription(\n    deploymentName: string,\n    fileContent: Uint8Array,\n    options?: GetAudioTranscriptionOptions,\n  ): Promise<AudioResultSimpleJson>;\n  /**\n   * Returns the transcription of an audio file.\n   * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n   * @param fileContent - The content of the audio file to transcribe.\n   * @param format - The format of the result object. See {@link AudioResultFormat} for possible values.\n   * @param options - The options for this audio transcription request.\n   * @returns The audio transcription result in a format of your choice.\n   */\n  async getAudioTranscription<Format extends AudioResultFormat>(\n    deploymentName: string,\n    fileContent: Uint8Array,\n    format: Format,\n    options?: GetAudioTranscriptionOptions,\n  ): Promise<AudioResult<Format>>;\n  // implementation\n  async getAudioTranscription<Format extends AudioResultFormat>(\n    deploymentName: string,\n    fileContent: Uint8Array,\n    formatOrOptions?: Format | GetAudioTranscriptionOptions,\n    inputOptions?: GetAudioTranscriptionOptions,\n  ): Promise<AudioResult<Format>> {\n    const options =\n      inputOptions ?? (typeof formatOrOptions === \"string\" ? {} : formatOrOptions ?? {});\n    const response_format = typeof formatOrOptions === \"string\" ? formatOrOptions : undefined;\n    this.setModel(deploymentName, options);\n    if (response_format === undefined) {\n      return getAudioTranscription(this._client, deploymentName, fileContent, options) as Promise<\n        AudioResult<Format>\n      >;\n    }\n    return getAudioTranscription(\n      this._client,\n      deploymentName,\n      fileContent,\n      response_format,\n      options,\n    );\n  }\n\n  /**\n   * Gets completions for the provided input prompts.\n   * Completions support a wide variety of tasks and generate text that continues from or \"completes\"\n   * provided prompt data.\n   */\n  getCompletions(\n    deploymentName: string,\n    prompt: string[],\n    options: GetCompletionsOptions = { requestOptions: {} },\n  ): Promise<Completions> {\n    this.setModel(deploymentName, options);\n    const { abortSignal, onResponse, requestOptions, tracingOptions, ...rest } = options;\n    return getCompletions(\n      this._client,\n      deploymentName,\n      { prompt, ...rest },\n      { abortSignal, onResponse, requestOptions, tracingOptions },\n    );\n  }\n\n  /**\n   * Lists the completions tokens as they become available for a given prompt.\n   * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n   * @param prompt - The prompt to use for this request.\n   * @param options - The completions options for this completions request.\n   * @returns An asynchronous iterable of completions tokens.\n   */\n  streamCompletions(\n    deploymentName: string,\n    prompt: string[],\n    options: GetCompletionsOptions = {},\n  ): Promise<EventStream<Omit<Completions, \"usage\">>> {\n    this.setModel(deploymentName, options);\n    return streamCompletions(this._client, deploymentName, prompt, options);\n  }\n\n  /**\n   * Gets chat completions for the provided chat messages.\n   * Completions support a wide variety of tasks and generate text that continues from or \"completes\"\n   * provided prompt data.\n   */\n  getChatCompletions(\n    deploymentName: string,\n    messages: ChatRequestMessageUnion[],\n    options: GetChatCompletionsOptions = { requestOptions: {} },\n  ): Promise<ChatCompletions> {\n    this.setModel(deploymentName, options);\n    return getChatCompletions(this._client, deploymentName, messages, options);\n  }\n\n  /**\n   * Lists the chat completions tokens as they become available for a chat context.\n   * @param deploymentName - The name of the model deployment (when using Azure OpenAI) or model name (when using non-Azure OpenAI) to use for this request.\n   * @param messages - The chat context messages to use for this request.\n   * @param options - The chat completions options for this chat completions request.\n   * @returns An asynchronous iterable of chat completions tokens.\n   */\n  streamChatCompletions(\n    deploymentName: string,\n    messages: ChatRequestMessageUnion[],\n    options: GetChatCompletionsOptions = { requestOptions: {} },\n  ): Promise<EventStream<ChatCompletions>> {\n    this.setModel(deploymentName, options);\n    return streamChatCompletions(this._client, deploymentName, messages, options);\n  }\n\n  /** Creates an image given a prompt. */\n  getImages(\n    deploymentName: string,\n    prompt: string,\n    options: GetImagesOptions = { requestOptions: {} },\n  ): Promise<ImageGenerations> {\n    this.setModel(deploymentName, options);\n    const { abortSignal, onResponse, requestOptions, tracingOptions, ...rest } = options;\n    return getImageGenerations(\n      this._client,\n      deploymentName,\n      { prompt, ...rest },\n      { abortSignal, onResponse, requestOptions, tracingOptions },\n    );\n  }\n\n  /** Return the embeddings for a given prompt. */\n  getEmbeddings(\n    deploymentName: string,\n    input: string[],\n    options: GetEmbeddingsOptions = { requestOptions: {} },\n  ): Promise<Embeddings> {\n    this.setModel(deploymentName, options);\n    const { abortSignal, onResponse, requestOptions, tracingOptions, ...rest } = options;\n    return getEmbeddings(\n      this._client,\n      deploymentName,\n      { input, ...rest },\n      { abortSignal, onResponse, requestOptions, tracingOptions },\n    );\n  }\n}\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { KeyCredential } from \"@azure/core-auth\";\n\n/**\n * The OpenAIKeyCredential class represents an OpenAI API key\n * and is used to authenticate into an OpenAI client for\n * an OpenAI endpoint.\n */\nexport class OpenAIKeyCredential implements KeyCredential {\n  private _key: string;\n\n  /**\n   * Create an instance of an AzureKeyCredential for use\n   * with a service client.\n   *\n   * @param key - The initial value of the key to use in authentication\n   */\n  constructor(key: string) {\n    if (!key) {\n      throw new Error(\"key must be a non-empty string\");\n    }\n\n    this._key = createKey(key);\n  }\n\n  /**\n   * The value of the key to be used in authentication\n   */\n  public get key(): string {\n    return this._key;\n  }\n\n  /**\n   * Change the value of the key.\n   *\n   * Updates will take effect upon the next request after\n   * updating the key value.\n   *\n   * @param newKey - The new key value to be used\n   */\n  public update(newKey: string): void {\n    this._key = createKey(newKey);\n  }\n}\n\nfunction createKey(key: string): string {\n  return key.startsWith(\"Bearer \") ? key : `Bearer ${key}`;\n}\n"],"names":["createClientLogger","getClient","__rest","RestError","__await","createSseStream","operationOptionsToRequestParameters","createFile","isTokenCredential"],"mappings":"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"}